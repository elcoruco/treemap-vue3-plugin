import{ref as t,computed as e,openBlock as r,createElementBlock as n,normalizeClass as o,createElementVNode as i,toDisplayString as a,unref as h,normalizeStyle as u}from"vue";function s(t){var e=0,r=t.children,n=r&&r.length;if(n)for(;--n>=0;)e+=r[n].value;else e=1;t.value=e}function c(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=f)):void 0===e&&(e=l);for(var r,n,o,i,a,h=new v(t),u=[h];r=u.pop();)if((o=e(r.data))&&(a=(o=Array.from(o)).length))for(r.children=o,i=a-1;i>=0;--i)u.push(n=o[i]=new v(o[i])),n.parent=r,n.depth=r.depth+1;return h.eachBefore(d)}function l(t){return t.children}function f(t){return Array.isArray(t)?t[1]:null}function p(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function d(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function v(t){this.data=t,this.depth=this.height=0,this.parent=null}v.prototype=c.prototype={constructor:v,count:function(){return this.eachAfter(s)},each:function(t,e){let r=-1;for(const n of this)t.call(e,n,++r,this);return this},eachAfter:function(t,e){for(var r,n,o,i=this,a=[i],h=[],u=-1;i=a.pop();)if(h.push(i),r=i.children)for(n=0,o=r.length;n<o;++n)a.push(r[n]);for(;i=h.pop();)t.call(e,i,++u,this);return this},eachBefore:function(t,e){for(var r,n,o=this,i=[o],a=-1;o=i.pop();)if(t.call(e,o,++a,this),r=o.children)for(n=r.length-1;n>=0;--n)i.push(r[n]);return this},find:function(t,e){let r=-1;for(const n of this)if(t.call(e,n,++r,this))return n},sum:function(t){return this.eachAfter((function(e){for(var r=+t(e.data)||0,n=e.children,o=n&&n.length;--o>=0;)r+=n[o].value;e.value=r}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,r=function(t,e){if(t===e)return t;var r=t.ancestors(),n=e.ancestors(),o=null;t=r.pop(),e=n.pop();for(;t===e;)o=t,t=r.pop(),e=n.pop();return o}(e,t),n=[e];e!==r;)e=e.parent,n.push(e);for(var o=n.length;t!==r;)n.splice(o,0,t),t=t.parent;return n},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(r){r!==t&&e.push({source:r.parent,target:r})})),e},copy:function(){return c(this).eachBefore(p)},[Symbol.iterator]:function*(){var t,e,r,n,o=this,i=[o];do{for(t=i.reverse(),i=[];o=t.pop();)if(yield o,e=o.children)for(r=0,n=e.length;r<n;++r)i.push(e[r])}while(i.length)}};const g=i("h1",null,null,-1),m=["viewBox"];var w={__name:"TreemapView",props:{width:Number,height:Number,background:String,data:Array,margin:Object,color:String},setup(s){const l=s,f=t({top:10,right:10,bottom:50,left:50}),p=t(400),d=t(400),v=t("black"),w=t("white"),y=e((()=>l.width||d.value)),b=e((()=>l.height||p.value)),k=e((()=>l.background||w.value));e((()=>l.margin||f.value)),e((()=>l.color||v.value));const A=e((()=>c({name:"some name",children:l.data})));return(t,e)=>(r(),n("div",{class:o("gf_simplestack_container")},[g,i("pre",null,"      "+a(h(A))+"\n    ",1),(r(),n("svg",{ref:"svg",xmlns:"http://www.w3.org/2000/svg",style:u({background:h(k)}),version:"1.2",baseProfile:"tiny",width:"100%",height:"100%",viewBox:`0 0 ${h(y)} ${h(b)}`,"stroke-linecap":"round","stroke-linejoin":"round",class:o("gf_simplestack_svg")},null,14,m))],2))},__file:"src/TreemapView.vue"},y={install:(t,e)=>{t.component("gf-treemap",w)}};export{y as default};
